<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kaza Hoodie Order</title>

<style>
body{margin:0;font-family:system-ui,Arial;background:#fff;color:#111}
.wrap{max-width:1100px;margin:auto;padding:20px}
header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.logo{font-weight:800;font-size:22px}
.whats{border:1px solid #ddd;padding:8px 14px;border-radius:20px;text-decoration:none;color:#111;font-size:13px}
.main{display:grid;grid-template-columns:1fr 1fr;gap:20px}
@media(max-width:900px){.main{grid-template-columns:1fr}}
.card{border:1px solid #e5e5e5;border-radius:18px;padding:18px;background:#f7f7f8}
.preview img{width:100%;height:330px;object-fit:cover;border-radius:14px;background:#fff}
.meta{margin-top:10px;display:flex;justify-content:space-between;font-size:14px}
.price{margin-top:14px;background:#fff;border:1px solid #ddd;border-radius:14px;padding:12px;font-size:14px}
.price div{display:flex;justify-content:space-between;padding:6px 0}
.old{color:#999;text-decoration:line-through}
form{display:grid;gap:10px}
input,select,textarea{padding:12px;border-radius:10px;border:1px solid #ddd;width:100%}
textarea{min-height:80px}
.row2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media(max-width:500px){.row2{grid-template-columns:1fr}}
button{padding:12px;border-radius:12px;font-weight:700;border:none;cursor:pointer}
.primary{background:#111;color:#fff}
.ghost{background:#fff;border:1px solid #ddd}
.size-chart img{width:100%;border-radius:12px;border:1px solid #ddd}
.pay{display:none;border:1px dashed #ccc;border-radius:14px;padding:14px;background:#fff}
.pay.show{display:block}
.done{display:none;color:#065f46;font-size:14px}
.done.show{display:block}
</style>
</head>

<body>

<div class="wrap">
<header>
  <div class="logo">Kaza</div>
  <a class="whats" href="https://wa.me/201013441857" target="_blank">واتساب للدعم</a>
</header>

<div class="main">

<!-- PREVIEW -->
<div class="card preview">
  <h3>اختار اللون</h3>
  <img id="img" src="black.jpg">
  <div class="meta">
    <span id="ar">أسود</span>
    <span id="en">Black</span>
  </div>

  <div class="price">
    <div><span>السعر</span><span><span class="old">750</span> 600</span></div>
    <div><span>الشحن</span><span>70</span></div>
    <div><b>الإجمالي</b><b id="total">670</b></div>
  </div>
</div>

<!-- FORM -->
<div class="card">
<h3>بيانات الطلب</h3>

<form id="form">
  <div class="row2">
    <input name="name" placeholder="الاسم" required>
    <input name="phone" placeholder="رقم الموبايل" required>
  </div>

  <textarea name="address" placeholder="العنوان" required></textarea>

  <div class="row2">
    <select id="color" name="color">
      <option value="black">أسود</option>
      <option value="white">أبيض</option>
      <option value="burgundy">برجندي</option>
      <option value="navy">كحلي</option>
      <option value="darkblue">بترولي</option>
      <option value="lightblue">لبني</option>
      <option value="pink">بينك</option>
      <option value="mauve">موف</option>
      <option value="brown">بني</option>
      <option value="beige">بيج</option>
      <option value="camel">جملي</option>
      <option value="olive">زيتي</option>
      <option value="silver">فضي</option>
      <option value="steel">حديدي</option>
    </select>

    <select name="size">
      <option>S</option><option>M</option><option>L</option>
      <option>XL</option><option>2XL</option><option>3XL</option>
      <option>4XL</option><option>5XL</option><option>6XL</option>
    </select>
  </div>

  <div class="size-chart">
    <img src="size-chart.jpg">
  </div>

  <input id="qty" type="number" name="qty" value="1" min="1">

  <button type="button" class="ghost" id="payBtn">تابع للدفع</button>
  <button class="primary">تأكيد الطلب</button>

  <div class="pay" id="pay">
    <p>حوّل على الرقم <b>01144681150</b></p>
    <p>بعد الدفع ارفع سكرين التحويل واكتب رقمك</p>
    <input name="sender_phone" placeholder="رقمك اللي حولت منه">
    <input type="file" name="payment_screenshot" accept="image/*">
  </div>

  <div class="done" id="done">✔ تم إرسال الطلب بنجاح</div>
</form>
</div>

</div>
</div>

<script>
const FORMSPREE_URL = "https://formspree.io/f/mnjzerra";

const form = document.getElementById("form");
const doneMsg = document.getElementById("done");
const payBox = document.getElementById("pay");

form.addEventListener("submit", async function (e) {
  e.preventDefault();

  if (!payBox.classList.contains("show")) {
    payBox.classList.add("show");
    alert("كمّل خطوة الدفع: اكتب رقمك وارفع سكرين التحويل");
    return;
  }

  const formData = new FormData(form);

  try {
    const res = await fetch(FORMSPREE_URL, {
      method: "POST",
      body: formData,
      headers: { "Accept": "application/json" }
    });

    if (res.ok) {
      doneMsg.classList.add("show");
      alert("✅ تم إرسال الطلب بنجاح");
      form.reset();
      payBox.classList.remove("show");
    } else {
      alert("❌ حصل خطأ في الإرسال، حاول تاني");
    }
  } catch (err) {
    alert("❌ الإرسال فشل (مشكلة إنترنت)");
  }
});

const PRICE=600, SHIPPING=70;
const qty=document.getElementById("qty");
const total=document.getElementById("total");
qty.oninput=()=>total.textContent=(PRICE*qty.value+SHIPPING)+" جنيه";

const map={
  black:{ar:"أسود",en:"Black",img:"black.jpg"},
  white:{ar:"أبيض",en:"White",img:"white.jpg"},
  burgundy:{ar:"برجندي",en:"Burgundy",img:"burgundy.jpg"},
  navy:{ar:"كحلي",en:"Navy",img:"navy.jpg"},
  darkblue:{ar:"بترولي",en:"Petrol Blue",img:"darkblue.jpg"},
  lightblue:{ar:"لبني",en:"Light Blue",img:"lightblue.jpg"},
  pink:{ar:"بينك",en:"Pink",img:"pink.jpg"},
  mauve:{ar:"موف",en:"Mauve",img:"mauve.jpg"},
  brown:{ar:"بني",en:"Brown",img:"brown.jpg"},
  beige:{ar:"بيج",en:"Beige",img:"beige.jpg"},
  camel:{ar:"جملي",en:"Camel",img:"camel.jpg"},
  olive:{ar:"زيتي",en:"Olive",img:"olive.jpg"},
  silver:{ar:"فضي",en:"Silver",img:"silver.jpg"},
  steel:{ar:"حديدي",en:"Charcoal",img:"steel.jpg"}
};

const sel=document.getElementById("color");
const img=document.getElementById("img");
const ar=document.getElementById("ar");
const en=document.getElementById("en");

sel.onchange=()=>{
  const c=map[sel.value];
  img.src=c.img;
  ar.textContent=c.ar;
  en.textContent=c.en;
};
</script>

</body>
</html>
